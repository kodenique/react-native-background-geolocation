def DEFAULT_COMPILE_SDK_VERSION = 36
def DEFAULT_TARGET_SDK_VERSION = 36
def DEFAULT_MIN_SDK_VERSION = 24
def DEFAULT_PLAY_SERVICES_VERSION = "21.3.0"
def DEFAULT_REACT_NATIVE_LIB_VERSION = "+"

def MOCKITO_CORE_VERSION = "5.12.0"
def ROBOLECTRIC_VERSION = "4.12.2"
def JUNIT_VERSION = "4.13.2"
def ANDROIDX_TEST_VERSION = "1.6.1"
def RESOURCE_PREFIX = "mauron85_bgloc_"

ext {
    getApplicationId = { ->
        def applicationId = "com.marianhello.app"
        if (findProject('..:app') != null) {
            applicationId = project('..:app').android.defaultConfig.applicationId
        } else if (findProject(':app') != null) {
            applicationId = project(':app').android.defaultConfig.applicationId
        }
        if (rootProject.hasProperty('applicationId')) {
            applicationId = rootProject.applicationId
        }
        return applicationId
    }

    getAccountPrefix = { ->
        if (rootProject.hasProperty('accountPrefix')) {
            return rootProject.accountPrefix;
        }
        def applicationId = getApplicationId();
        return applicationId + '.mauron85.bgloc';
    }

    getReactNativeLibVersion = { ->
        def reactNativeLibVersion = DEFAULT_REACT_NATIVE_LIB_VERSION
        if (rootProject.hasProperty('reactNativeLibVersion')) {
            reactNativeLibVersion = rootProject.reactNativeLibVersion
        }
        return reactNativeLibVersion
    }

    getPlayServicesVersion = { ->
        def playServicesVersion = DEFAULT_PLAY_SERVICES_VERSION
        if (rootProject.hasProperty('playServicesVersion')) {
            playServicesVersion = rootProject.playServicesVersion
        } else if (rootProject.hasProperty('googlePlayServicesVersion')) {
            playServicesVersion = rootProject.googlePlayServicesVersion
        }
        return playServicesVersion
    }

    getCompileSdkVersion = { ->
        def compileSdkVersion = DEFAULT_COMPILE_SDK_VERSION
        if (rootProject.hasProperty('compileSdkVersion')) {
            compileSdkVersion = rootProject.compileSdkVersion
        }
        return compileSdkVersion
    }

    getTargetSdkVersion = { ->
        def targetSdkVersion = DEFAULT_TARGET_SDK_VERSION
        if (rootProject.hasProperty('targetSdkVersion')) {
            targetSdkVersion = rootProject.targetSdkVersion
        }
        return targetSdkVersion
    }

    getMinSdkVersion = { ->
        def minSdkVersion = DEFAULT_MIN_SDK_VERSION
        if (rootProject.hasProperty('minSdkVersion')) {
            minSdkVersion = rootProject.minSdkVersion
        }
        return minSdkVersion
    }

    getResourcePrefix = { ->
        return RESOURCE_PREFIX
    }

    androidLibs = [
        annotationsX: [group: 'androidx.annotation', name: 'annotation', version: '1.8.0'],
        coreKtx: [group: 'androidx.core', name: 'core-ktx', version: '1.13.1'],
        appcompat: [group: 'androidx.appcompat', name: 'appcompat', version: '1.7.0'],
        playServicesLocation: [group: 'com.google.android.gms', name: 'play-services-location', version: getPlayServicesVersion()],
        testCore: [group: 'androidx.test', name: 'core', version: ANDROIDX_TEST_VERSION],
        testRunner: [group: 'androidx.test', name: 'runner', version: ANDROIDX_TEST_VERSION],
        testRules: [group: 'androidx.test', name: 'rules', version: ANDROIDX_TEST_VERSION],
        testExtJunit: [group: 'androidx.test.ext', name: 'junit', version: '1.2.1'],
    ]

    testLibs = [
        testRunner: [group: 'androidx.test', name: 'runner', version: ANDROIDX_TEST_VERSION],
        testRules: [group: 'androidx.test', name: 'rules', version: ANDROIDX_TEST_VERSION],
        junit: [group: 'junit', name: 'junit', version: JUNIT_VERSION],
        json: [group: 'org.json', name: 'json', version: '20231013'],
        mockitoCore: [group: 'org.mockito', name: 'mockito-core', version: MOCKITO_CORE_VERSION],
        robolectric: [group: 'org.robolectric', name: 'robolectric', version: ROBOLECTRIC_VERSION],
    ]

    libs = [
        reactNative: [group: 'com.facebook.react', name: 'react-android', version: getReactNativeLibVersion()],
        logback: [group: 'com.github.tony19', name: 'logback-android', version: '3.0.0'],
        slf4j: [group: 'org.slf4j', name: 'slf4j-api', version: '2.0.13'],
    ]
}
